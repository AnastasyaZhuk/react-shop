{"version":3,"sources":["components/Header.jsx","components/Footer.jsx","components/GoodItem.jsx","components/GoodsList.jsx","components/Preloader.jsx","components/Cart.jsx","components/BasketItem.jsx","components/BasketList.jsx","components/Alert.jsx","components/Shop.jsx","config.js","App.js","index.js"],"names":["Header","className","href","id","Footer","Date","getFullYear","GoodItem","props","mainId","name","displayName","description","displayDescription","price","displayAssets","addToBasket","regularPrice","src","full_background","alt","onClick","style","fontSize","GoodsList","goods","length","map","item","Preloader","Cart","quantity","handleBasketShow","Function","prototype","BasketItem","removeFromBasket","incQuantity","decQuantity","BasketList","order","totalPrice","reduce","sum","el","Alert","closeAlert","useEffect","timerId","setTimeout","clearTimeout","Shop","useState","setGoods","loading","setLoading","setOrder","isBasketShow","setIsBasketShow","alertName","setAlertName","itemIndex","findIndex","orderItem","newItem","newOrder","index","fetch","headers","process","then","response","json","data","shop","itemId","filter","newQuantity","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.951ecd46.chunk.js","sourcesContent":["import React from 'react';\n\nconst Header = () => {\n    return (\n        <nav className=\"blue darken-4\">\n            <div className=\"nav-wrapper\">\n                <a href=\"#\" className=\"brand-logo\">React shop</a>\n                <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n                    <li><a href=\"https://github.com/AnastasyaZhuk/react-shop\">Repo</a></li>\n                </ul>\n            </div>\n        </nav>\n    );\n};\n\nexport default Header;","import React from 'react';\n\nconst Footer = () => {\n    return (\n        <footer className=\"page-footer blue darken-4\">\n\n            <div className=\"footer-copyright\">\n                <div className=\"container\">\n                    © {new Date().getFullYear()} Copyright Text\n                    <a className=\"grey-text text-lighten-4 right\" href=\"#!\">Repo</a>\n                </div>\n            </div>\n        </footer>\n    );\n};\n\nexport default Footer;","import React from 'react';\n\nconst GoodItem = (props) => {\n\n    const {\n        mainId: id,\n        displayName: name,\n        displayDescription: description,\n        price,\n        displayAssets,\n        addToBasket\n    } = props;\n\n    const {regularPrice} = price;\n\n    const handleClick = () => {\n        addToBasket({\n            id,\n            name,\n            price: regularPrice\n        })\n    }\n\n    return (\n        <div className=\"card\">\n            <div className=\"card-image\">\n                <img src={displayAssets[0].full_background} alt={name}/>\n            </div>\n            <div className=\"card-content\">\n                <span className=\"card-title\">{name}</span>\n                <p>{description}</p>\n            </div>\n            <div className=\"card-action\">\n                <button className=\"btn blue darken-4\" onClick={handleClick}>Купить</button>\n                <span className=\"right\" style={{fontSize: '1.8rem'}}>{regularPrice}₽</span>\n            </div>\n        </div>\n    );\n};\n\nexport default GoodItem;","import React from 'react';\nimport GoodItem from \"./GoodItem\";\n\nconst GoodsList = (props) => {\n    const {\n        goods = [],\n        addToBasket\n    } = props;\n\n    if (goods.length === 0) {\n        return <h3>Nothing here</h3>\n    }\n\n    return (\n        <div className=\"goods\">\n            {goods.map(item => (\n                <GoodItem addToBasket={addToBasket} key={item.mainId} {...item}/>\n            ))}\n        </div>\n    );\n};\n\nexport default GoodsList;","import React from 'react';\n\nconst Preloader = () => {\n    return (\n        <div className=\"progress\">\n            <div className=\"determinate\"/>\n        </div>\n\n    );\n};\n\nexport default Preloader;","import React from 'react';\n\nconst Cart = (props) => {\n    const {\n        quantity = 0,\n        handleBasketShow = Function.prototype\n    } = props;\n\n    return (\n        <div\n            className=\"cart blue darken-4 white-text\"\n            onClick={handleBasketShow}\n        >\n            <i className=\"material-icons\">shopping_cart</i>\n            {quantity ? <span className=\"cart-quantity\">{quantity}</span> : null}\n        </div>\n    );\n};\n\nexport default Cart;","import React from 'react';\n\nconst BasketItem = (props) => {\n    const {\n        id,\n        name,\n        price,\n        quantity,\n        removeFromBasket = Function.prototype,\n        incQuantity = Function.prototype,\n        decQuantity = Function.prototype\n    } = props;\n\n    return (\n        <li className=\"collection-item\">\n            {name}\n            <i className=\"material-icons item-count\" onClick={() => decQuantity(id)}>remove</i> {quantity} {''}\n            <i className=\"material-icons item-count\" onClick={() => incQuantity(id)}>add</i>= {price * quantity} ₽\n\n            <span className=\"secondary-content basket-delete \"\n                  onClick={() => removeFromBasket(id)}>\n                <i className=\"material-icons\">delete</i>\n            </span>\n        </li>\n    );\n};\n\nexport default BasketItem;","import React from 'react';\nimport BasketItem from \"./BasketItem\";\n\nconst BasketList = (props) => {\n    const {\n        order,\n        handleBasketShow = Function.prototype,\n        removeFromBasket = Function.prototype,\n        incQuantity = Function.prototype,\n        decQuantity = Function.prototype\n    } = props;\n\n    const totalPrice = order.reduce((sum, el) => {\n        return sum + el.price * el.quantity\n    }, 0);\n\n    return (\n        <ul className=\"collection basket-list\">\n            <li className=\"collection-item blue darken-4 active\">Корзина</li>\n            {order.length\n                ? order.map(item => (\n                    <BasketItem\n                        key={item.id}\n                        {...item}\n                        removeFromBasket={removeFromBasket}\n                        incQuantity={incQuantity}\n                        decQuantity={decQuantity}\n                    />\n                ))\n                : <li className=\"collection-item blue darken-4 active\">Корзина пуста</li>\n            }\n            <li className=\"collection-item\">\n                Общая стоимость: {totalPrice}₽\n            </li>\n            <li className=\"collection-item\">\n                <button className=\"btn btn-small blue darken-4\">Оформить заказ</button>\n            </li>\n            <i className=\"material-icons basket-close\" onClick={handleBasketShow}>close</i>\n        </ul>\n    );\n};\n\nexport default BasketList;","import React, {useEffect} from 'react';\n\nconst Alert = (props) => {\n    const {\n        name,\n        closeAlert = Function.prototype\n    } = props;\n\n    useEffect(() => {\n        const timerId = setTimeout(closeAlert, 3000);\n        return () => {\n            clearTimeout(timerId);\n        }\n    }, [name]);\n\n    return (\n        <div id=\"toast-container\">\n            <div className=\"toast\">{name} добавлен в корзину</div>\n        </div>\n    );\n};\n\nexport default Alert;","import React, {useEffect, useState} from 'react';\nimport GoodsList from \"./GoodsList\";\nimport Preloader from \"./Preloader\";\nimport {API_KEY, API_URL} from \"../config\";\nimport Cart from \"./Cart\";\nimport BasketList from \"./BasketList\";\nimport Alert from \"./Alert\";\n\nconst Shop = () => {\n\n    const [goods, setGoods] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [order, setOrder] = useState([]);\n    const [isBasketShow, setIsBasketShow] = useState(false);\n    const [alertName, setAlertName] = useState('');\n\n    const addToBasket = (item) => {\n        const itemIndex = order.findIndex(orderItem => orderItem.id === item.id);\n\n        if (itemIndex < 0) {\n            const newItem = {\n                ...item,\n                quantity: 1\n            }\n            setOrder([...order, newItem]);\n        } else {\n            const newOrder = order.map((orderItem, index) => {\n                if (index === itemIndex) {\n                    return {...orderItem, quantity: orderItem.quantity + 1}\n                } else {\n                    return orderItem;\n                }\n            });\n            setOrder(newOrder);\n        }\n\n        setAlertName(item.name);\n    }\n\n    const removeFromBasket = (itemId) => {\n        const newOrder = order.filter(el => el.id !== itemId);\n        setOrder(newOrder);\n    }\n\n    const handleBasketShow = () => {\n        setIsBasketShow(!isBasketShow);\n    }\n\n    const incQuantity = (itemId) => {\n        const newOrder = order.map(el => {\n            if (el.id === itemId) {\n                const newQuantity = el.quantity + 1;\n                return {\n                    ...el,\n                    quantity: newQuantity\n                }\n            } else {\n                return el;\n            }\n        });\n        setOrder(newOrder);\n    }\n\n    const decQuantity = (itemId) => {\n        const newOrder = order.map(el => {\n            if (el.id === itemId) {\n                const newQuantity = el.quantity - 1;\n                return {\n                    ...el,\n                    quantity: newQuantity >= 0 ? newQuantity : 0\n                }\n            } else {\n                return el;\n            }\n        });\n        setOrder(newOrder);\n    }\n\n    const closeAlert = () => {\n        setAlertName('');\n    }\n\n    useEffect(function getGoods() {\n        fetch(API_URL, {\n            headers: {\n                'Authorization': API_KEY\n            }\n        }).then(response => response.json())\n            .then(data => {\n                data.shop && setGoods(data.shop);\n                setLoading(false);\n            })\n    }, []);\n\n    return (\n        <main className=\"container content\">\n            <Cart\n                quantity={order.length}\n                handleBasketShow={handleBasketShow}\n            />\n            {loading\n                ? <Preloader/>\n                : <GoodsList\n                    goods={goods}\n                    addToBasket={addToBasket}\n                />\n            }\n            {isBasketShow &&\n            <BasketList\n                order={order}\n                handleBasketShow={handleBasketShow}\n                removeFromBasket={removeFromBasket}\n                addToBasket={addToBasket}\n                incQuantity={incQuantity}\n                decQuantity={decQuantity}\n            />\n            }\n\n            {alertName && <Alert name={alertName} closeAlert={closeAlert}/>}\n        </main>\n    )\n}\n\nexport default Shop;","const API_KEY = process.env.REACT_APP_API_KEY;\nconst API_URL = 'https://fortniteapi.io/v2/shop?lang=ru';\n\nexport {\n    API_KEY,\n    API_URL\n}","import Header from \"./components/Header\";\nimport Footer from \"./components/Footer\";\nimport Shop from \"./components/Shop\";\n\nfunction App() {\n    return (\n        <>\n            <Header/>\n            <Shop/>\n            <Footer/>\n        </>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}